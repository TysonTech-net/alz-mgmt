{
  "type": "Microsoft.Authorization/policyAssignments",
  "apiVersion": "2024-04-01",
  "name": "Deploy-Diag-LogsAll",
  "location": "${default_location}",
  "dependsOn": [],
  "identity": {
    "type": "SystemAssigned"
  },
  "properties": {
    "description": "Resource logs should be enabled to track activities and events that take place on your resources and give you visibility and insights into any changes that occur. This initiative deploys diagnostic setting using the allLogs category group to route logs to Log Analytics for all supported resources.",
    "displayName": "Enable allLogs category group resource logging for supported resources to Log Analytics",
    "policyDefinitionId": "/providers/Microsoft.Authorization/policySetDefinitions/0884adba-2312-4468-abeb-5422caed1038",
    "definitionVersion": "1.*.*",
    "enforcementMode": "Default",
    "nonComplianceMessages": [
      {
        "message": "Diagnostic settings {enforcementMode} be deployed to Azure services to forward all logs to Log Analytics."
      }
    ],
    "parameters": {
      "logAnalytics": {
        "value": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/placeholder/providers/Microsoft.OperationalInsights/workspaces/placeholder-la"
      }
    },
    "scope": "/providers/Microsoft.Management/managementGroups/placeholder",
    "notScopes": []
  }
}
